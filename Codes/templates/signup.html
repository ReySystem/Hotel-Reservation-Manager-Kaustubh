{% extends "base.html" %} {% block content %}
    <!-- Form Title -->
    <h3 style="text-align: center;">Registration Details</h1>

    <!-- Bootstrap Alert for Password Mismatch -->
    <div class="alert alert-warning" id="passwordMismatchAlert" style="display:none;">
        Passwords do not match. Please check and try again.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>

    {% if duplicate %}
    <div class="alert alert-warning" role="alert">
        Username or Email already exists!
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endif %}

        <!-- Bootstrap Alert for Email Verification -->
        {% if success %}
        <div class="alert alert-warning" role="alert">
            Check your email for a verification link
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endif %}
    

    <!-- Signup Form -->
    <form id="signupForm" action="/signup" method="post" onsubmit="return validateForm()">
        <!-- Add your form fields here -->
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            class="form-control"
            id="username"
            placeholder="Enter username"
            name="username"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">Email address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Enter email ID"
            name="email"
            required
          />
        </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control"
      id="password"
      placeholder="Enter password"
      name="password"
      required
    />
  </div>
  <div class="form-group">
    <label for="confirm_password">Confirm Password</label>
    <input
      type="password"
      class="form-control"
      id="confirm_password"
      placeholder="Confirm your password"
      name="password"
      required
    />
  </div>
  <small id="emailHelp" class="form-text text-muted" style="text-align: center;">Already Have an Account? <a href="/login">Login</a></small><br>

        <!-- Add more form fields as needed -->

        <div style="text-align: center;"><button type="submit" class="btn btn-primary">Signup</button></div>
    </form>

    <script>
        function validateForm() {
            // Get password and confirm password values
            var password = document.getElementById("password").value;
            var confirm_password = document.getElementById("confirm_password").value;

            // Check if the passwords match
            if (password !== confirm_password) {
                // Show Bootstrap alert for password mismatch
                document.getElementById("passwordMismatchAlert").style.display = "block";
                return false; // Prevent form submission
            }

            // Hide the alert if passwords match
            document.getElementById("passwordMismatchAlert").style.display = "none";

            // Continue with form submission
            return true;
        }
    </script>
{% endblock %}
